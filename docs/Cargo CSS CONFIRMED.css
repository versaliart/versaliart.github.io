/*----------------------------------------------------------------------*/
/* FONT DECLARATIONS */
/*----------------------------------------------------------------------*/

/* ------------------------------
   CRIMSON PRO
--------------------------------*/
/* Regular (400) */
@font-face {
  font-family: "Crimson Pro";
  src: url("https://static1.squarespace.com/static/68b0cf9aee4bdf7a0a0f8be4/t/68b12b4fe9ef762c1becddd2/1756441424539/CrimsonPro-VariableFont_wght.woff2") format("woff2");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

/* Medium (500) */
@font-face {
  font-family: "Crimson Pro";
  src: url("https://static1.squarespace.com/static/68b0cf9aee4bdf7a0a0f8be4/t/68b12b4fe9ef762c1becddd2/1756441424539/CrimsonPro-VariableFont_wght.woff2") format("woff2");
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

/* ------------------------------
   MAAX FAMILY
--------------------------------*/
/* Regular (400) */
@font-face {
  font-family: "Maax";
  src: url("https://static1.squarespace.com/static/68b0cf9aee4bdf7a0a0f8be4/t/68b12b50d4d51b3335e308a4/1756441424298/Maax.woff2") format("woff2");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

/* Italic (400 italic) */
@font-face {
  font-family: "Maax";
  src: url(https://static1.squarespace.com/static/68b0cf9aee4bdf7a0a0f8be4/t/68b12b50125270571f593fcf/1756441424381/Maax-Italic.woff2) format("woff2");
  font-weight: 400;
  font-style: italic;
  font-display: swap;
}

/* Medium (500) */
@font-face {
  font-family: "Maax";
  src: url(https://static1.squarespace.com/static/68b0cf9aee4bdf7a0a0f8be4/t/68b12e5f5910144faa05f7ea/1756442207649/Maax-Medium.woff2) format("woff2");
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

/* Medium Italic (500 italic) */
@font-face {
  font-family: "Maax";
  src: url(https://static1.squarespace.com/static/68b0cf9aee4bdf7a0a0f8be4/t/68b12e5dddc0cf4e186922be/1756442205332/Maax-Mediumitalic.woff2) format("woff2");
  font-weight: 500;
  font-style: italic;
  font-display: swap;
}

/* Bold (700) */
@font-face {
  font-family: "Maax";
  src: url("https://static1.squarespace.com/static/68b0cf9aee4bdf7a0a0f8be4/t/68b12b5029b08279c2baefb7/1756441424343/Maax-Bold.woff2") format("woff2");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

/* Bold Italic (700 italic) */
@font-face {
  font-family: "Maax";
  src: url("https://static1.squarespace.com/static/68b0cf9aee4bdf7a0a0f8be4/t/68b12e63d4d51b3335e35ef0/1756442211833/Maax-BoldItalic.woff2") format("woff2");
  font-weight: 700;
  font-style: italic;
  font-display: swap;
}

/* Black (900) */
@font-face {
  font-family: "Maax";
  src: url("https://static1.squarespace.com/static/68b0cf9aee4bdf7a0a0f8be4/t/68b12b50a4f4cc03f3cbdfec/1756441424299/Maax-Black.woff2") format("woff2");
  font-weight: 900;
  font-style: normal;
  font-display: swap;
}

/* ===============================
   TYPE SCALE (rem)
================================*/
:root{
  --h1: 3rem;        /* Maax Medium 48pt */
  --h2: 2.25rem;     /* Maax Medium 36pt */
  --h3: 2rem;        /* Maax Regular 32pt */
  --h4: 1.5rem;      /* Maax Regular 24pt */

  --p1: 1.25rem;     /* Paragraph 1 → Crimson Pro Medium 20pt */
  --p2: 1rem;        /* Paragraph 2 → Crimson Pro Medium 16pt */
  --p3: .875rem;     /* Paragraph 3 → Crimson Pro Regular ~14pt */
}

/* ===============================
   HEADINGS (content area)
================================*/
.sqs-block-content h1{ font-family:"Maax",sans-serif; font-weight:500; font-size:var(--h1); line-height:1.2; }
.sqs-block-content h2{ font-family:"Maax",sans-serif; font-weight:500; font-size:var(--h2); line-height:1.3; }
.sqs-block-content h3{ font-family:"Maax",sans-serif; font-weight:400; font-size:var(--h3); line-height:1.3; }
.sqs-block-content h4{ font-family:"Maax",sans-serif; font-weight:400; font-size:var(--h4); line-height:1.35; }

/* ===============================
   PARAGRAPHS (content area)
   P1 / P2 / P3
================================*/
/* Paragraph 1 */
.sqs-block-content p.sqsrte-large{
  font-family:"Crimson Pro",serif;
  font-weight:500;             /* Medium */
  font-size:var(--p1);
  line-height:1.6;
}

/* Paragraph 2 (default) */
.sqs-block-content p,
.sqs-block-content p.sqsrte-body{
  font-family:"Crimson Pro",serif;
  font-weight:500;             /* Medium */
  font-size:var(--p2);
  line-height:1.65;
}

/* Paragraph 3 */
.sqs-block-content p.sqsrte-small{
  font-family:"Crimson Pro",serif;
  font-weight:400;             /* Regular */
  font-size:var(--p3);
  line-height:1.5;
}

/* Lists inherit paragraph styles */
.sqs-block-content li{
  font-family:"Crimson Pro",serif;
  font-weight:inherit;
  font-size:inherit;
  line-height:inherit;
}

/* ===============================
   CAPTIONS (images, galleries)
================================*/
.sqs-block-image .image-caption p,
.sqs-gallery-design-grid .image-slide .image-caption p,
.sqs-gallery-design-carousel .image-caption p,
figure figcaption, .caption, figcaption, small{
  font-family:"Crimson Pro",serif;
  font-weight:400;             /* Regular */
  font-size:var(--p3);
  line-height:1.4;
}

/* ===============================
   NAVIGATION (header)
================================*/
.header-title, .header-title a, .site-title, .site-title a{
  font-family:"Maax",sans-serif !important;
  font-weight:700 !important;
  font-size:var(--h3) !important;
  line-height:1.2 !important;
  text-transform:none !important;
  letter-spacing:0 !important;
}

.header-nav a, .header-nav-item a, nav a{
  font-family:"Maax",sans-serif !important;
  font-weight:500 !important;          /* Medium */
  font-size:1rem !important;           /* similar to P2 */
  line-height:1.4 !important;
  letter-spacing:.02em !important;
  text-transform:uppercase;
}

.header-nav .folder .subnav a,
.header-nav-folder .header-nav-item a,
nav .subnav a{
  font-family:"Maax",sans-serif !important;
  font-weight:400 !important;          /* Regular */
  font-size:.9375rem !important;
  letter-spacing:.01em !important;
  text-transform:none;
}

/* ===============================
   BUTTONS
================================*/
.sqs-block-button .sqs-button-element,
.sqs-button-element,
button.sqs-add-to-cart-button{
  font-family:"Maax",sans-serif !important;
  font-weight:700 !important;          /* Bold */
  font-size:1rem !important;
  line-height:1.2 !important;
  letter-spacing:.03em !important;
  text-transform:uppercase !important;
}

.sqs-button-element--secondary{
  font-weight:500 !important;          /* Medium */
  letter-spacing:.02em !important;
  text-transform:none !important;
}

/* ===============================
   FOOTER
================================*/
.footer, .Footer, footer{
  font-family:"Crimson Pro",serif;
  font-size:var(--p3);
  line-height:1.6;
}

.footer h1, .footer h2, .footer h3, .footer h4,
.Footer h1, .Footer h2, .Footer h3, .Footer h4{
  font-family:"Maax",sans-serif;
  font-weight:700;
  font-size:1rem;                       /* Use nav/body scale */
  letter-spacing:.02em;
  text-transform:uppercase;
}

.footer nav a, .Footer nav a, .Footer a{
  font-family:"Maax",sans-serif;
  font-weight:400;
  font-size:.9375rem;
  letter-spacing:.01em;
  text-transform:none;
}

/* ===============================
   RESPONSIVE TWEAKS (optional)
================================*/
@media (max-width: 48rem){
  .sqs-block-content h1{ font-size: calc(var(--h1) * .9); }
  .sqs-block-content h2{ font-size: calc(var(--h2) * .92); }
  .sqs-block-content h3{ font-size: calc(var(--h3) * .94); }
}

/* ---------- Starfield v1.0 + Bottom Overlay ---------- */
/* Page-level toggle: only pages with the marker run the starfield */
body.has-starfield{
--star-count: 45;          /* TOTAL stars across the whole page */
--radial-bias-k: 4;       /* 1 = uniform disk, 2–4 = stronger ring toward edges */
--star-min-gap: 24px;    /* extra space BETWEEN star edges; 0 disables */

--twinkle-min: 1.0;      /* shortest twinkle cycle (seconds) → faster flicker */
--twinkle-max: 3.0;      /* longest  twinkle cycle (seconds) → slower flicker */

--opacity-min: 0.15;     /* dimmest baseline opacity (0–1) */
--opacity-max: 1.0;     /* brightest baseline opacity (0–1) */

--phi: 1.618;                                          /* golden ratio */
--size-large: 1.5rem;                                  /* L: base size you can tweak */
--size-medium: calc(var(--size-large) / var(--phi));   /* M = L / φ  ≈ 0.927rem */
--size-small:  calc(var(--size-medium) / var(--phi));  /* S = M / φ  ≈ 0.573rem */

  --max-blur: 0.12rem;
  --star-color: #9989EC;
  --star-url: url("https://mayflower-crane-b4y9.squarespace.com/s/MMsparkle.svg");

  /* ↓ Optional: page-wide bottom overlay image for ALL starfield sections */
  /* (You can override per-section with a data attribute; see JS notes below.) */
  --star-overlay-url: url("https://images.squarespace-cdn.com/content/68b0cf9aee4bdf7a0a0f8be4/263c8665-4264-4d5e-b43d-2f2ce9464b50/MMbg.png");
  --star-overlay-width: min(90vw, 1920px); /* rendered width of the overlay image */
  --star-overlay-offset-y: 0px;            /* nudge up/down from the bottom edge */
}

/* Make each section a stacking context so we can layer stars under its content */
body.has-starfield .page-section,
body.has-starfield .sqs-section { position: relative; }

/* Per-section star layer (injected by JS) – above bg, below content */
body.has-starfield .star-container{
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background: none !important;
  background-color: transparent !important;
}

/* NEW: bottom overlay image (above the stars, below content) */
body.has-starfield .star-bottom-image{
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 1;
  background-image: var(--star-overlay-url, none);
  background-repeat: no-repeat;
  background-position: center calc(100% + var(--star-overlay-offset-y, 0px));
  background-size: var(--star-overlay-width, min(90vw, 1200px)) auto;
}

/* Lift section content above both star layer and overlay image */
body.has-starfield .page-section > .content-wrapper,
body.has-starfield .sqs-section  > .content-wrapper,
body.has-starfield .sqs-section .content,
body.has-starfield .sqs-layout,
body.has-starfield .section-border{
  position: relative;
  z-index: 2; /* bumped to sit above overlay (z:1) */
}

/* Individual stars */
body.has-starfield .star-container .star{
  position: absolute;
  left: var(--x, 50%);
  top:  var(--y, 50%);
  width:  var(--size, 1rem);
  height: var(--size, 1rem);
  transform: translate(-50%, -50%) scale(var(--scale,1));
  opacity: var(--o, 0.85);
  color: var(--star-color);
  background: currentColor;
  animation-fill-mode: both;

  -webkit-mask: var(--star-url) center/contain no-repeat;
          mask: var(--star-url) center/contain no-repeat;

  filter: drop-shadow(0 0 var(--blur, 0) currentColor);
  will-change: opacity, transform;

    animation: twinkle var(--twinkle, 4s) ease-in-out var(--tw-delay, 0s) infinite alternate !important;
}

/* Twinkle: opacity only (no transform conflicts) */
@keyframes twinkle{
  0%   { opacity: 0.15; }
  50%  { opacity: 1;    }
  100% { opacity: 0.25; }
}

/* Floaty: the only animation that changes transform */
@keyframes floaty{
  0%   { transform: translate(calc(-50% + var(--dx,0px)), calc(-50% + var(--dy,0px))) scale(var(--scale,1)); }
  50%  { transform: translate(calc(-50% - var(--dx,0px)), calc(-50% - var(--dy,0px))) scale(var(--scale,1)); }
  100% { transform: translate(calc(-50% + var(--dx,0px)), calc(-50% + var(--dy,0px))) scale(var(--scale,1)); }
}

@media (prefers-reduced-motion: reduce){
  body.has-starfield .star-container .star{ animation: none; opacity: 0.6; }
}

/* ── Topblock Flip v1.0 — directional easing (enter: ease-in, exit: ease-out) ── */
:root{
  --flip-enter-dur: 520ms;                       /* into hidden */
  --flip-enter-ease: cubic-bezier(0.42,0,1,1);   /* ease-in */
  --flip-exit-dur: 520ms;                        /* back visible */
  --flip-exit-ease: cubic-bezier(0,0,0.2,1);     /* ease-out */
}

.flip-section { position: relative; }            /* added by JS */

.flip-top{
  position: relative;
  z-index: 999 !important;
  perspective: 1000px;
  touch-action: manipulation;
}

/* Default (enter) timing; exit timing is applied by adding .ease-exit BEFORE the flip back */
.flip-top .flip-target{
  transition-property: transform;
  transition-duration: var(--flip-enter-dur);
  transition-timing-function: var(--flip-enter-ease);
  transform-style: preserve-3d;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  transform-origin: center center;
  will-change: transform;
}

.flip-top.is-flipped .flip-target{
  transform: rotateY(180.0001deg); /* 0.0001 avoids a hairline at 180° */
}

/* While preparing to exit, switch to exit curve BEFORE transform changes */
.flip-top.ease-exit .flip-target{
  transition-duration: var(--flip-exit-dur);
  transition-timing-function: var(--flip-exit-ease);
}

@media (prefers-reduced-motion: reduce){
  .flip-top .flip-target{ transition: none; }
}
